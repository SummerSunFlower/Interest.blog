{% extends "base/front.html" %}

{% block title %}Interest Blog Misc | SaintIC{% endblock %}

{% block content %}

<article class="post">

  <header class="post-header">
      <p>标签云<code>tags</code></p>
  </header>

  <div class="post-content" itemprop="articleBody" id="misc_tags">
  </div>

</article>

<article class="post">

  <header class="post-header">
      <p>分类目录<code>catalogs</code></p>
  </header>

  <div class="post-content" itemprop="articleBody" id="misc_catalogs">
  </div>

</article>

<article class="post">

  <header class="post-header">
      <p>文章类型<code>sources</code></p>
  </header>

  <div class="post-content" itemprop="articleBody" id="misc_sources">
    {% for source in ("原创", "转载", "翻译") %}
       <scan class="badge red">{{ source }}</scan>
    {% endfor %}
  </div>

</article>

{% endblock %}

{% block script %}
<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-3.1.0.min.js') }}"></script>
<script type="text/javascript">
    // 获取文章标签信息
    $.ajax({
        url: "https://api.saintic.com/blog?get_tags_list=true",
        method: 'GET',
        datatype: 'json',
        success: function(res) {
            console.log(res);
            var data = res.data;
            var str2 = '';
            for(i=0; i<data.length; i++) {
                tag = data[i];
                str2 += '<scan class="badge green">' + tag +'</scan>';
            };
            document.getElementById('misc_tags').innerHTML=str2;
        },
        error: function(error){
            console.log(error);
        }
    });
    // 获取文章分类信息
    $.ajax({
        url: "https://api.saintic.com/blog?get_catalog_list=true",
        method: 'GET',
        datatype: 'json',
        success: function(res) {
            console.log(res);
            var data = res.data;
            var str2 = '';
            for(i=0; i<data.length; i++) {
                catalog = data[i];
                str2 += '<scan class="badge yellow">' + catalog +'</scan>&nbsp;';
            };
            document.getElementById('misc_catalogs').innerHTML=str2;
        },
        error: function(error){
            console.log(error);
        }
    });
</script>
{% endblock %}
